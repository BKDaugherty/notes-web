(this["webpackJsonpnotes-web"]=this["webpackJsonpnotes-web"]||[]).push([[0],{85:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n(0),o=n.n(i),r=n(10),s=n.n(r),c=(n(85),n(48)),l=n(72),d=n(34),h=n(27),u=n(28),j=n(30),b=n(29),p=n(65),f=n(71),O=n(138),g=n(4),v=n(142),m=n(149),x=n(135),y=n(140),w=n(144),k=n(153),C=n(145),S=n(143),N=n(41),T=n(141),_=n(92),W=n(139),B=n(69),E=n.n(B),F=n(150),L=n(151),P=n(68),A=n.n(P),D=n(67),I=n.n(D),J=n(70),U=n.n(J),H=n(155),q=n(148),M=n(147),z=n(146),G=n(152),R="https://typed-thoughts.herokuapp.com/",$=[],K=function(e){return{fullHeight:Object(p.a)({},e.mixins.toolbar),text:{padding:e.spacing(2,2,0)},addButton:{position:"absolute",zIndex:1,bottom:"10%",right:"5%",margin:"0 auto"},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1}}},Q=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=Object(f.a)({palette:{primary:{light:"#757ce8",main:"#000000",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"},background:{paper:"#efefef",default:"#fff"}}});return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(x.a,{}),Object(a.jsxs)(O.a,{theme:e,children:[Object(a.jsx)(ie,{}),Object(a.jsx)(ae,{})]})]})}}]),n}(o.a.Component),V=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleOpen=function(e){a.setState({open:!0,active_uuid:e.uuid,title:e.title,description:e.description,origin:e.origin||"",tags:e.tags})},a.handleCreate=function(){a.setState({open:!0,active_uuid:null,title:"",description:"",origin:"",tags:[]})},a.handleClose=function(){a.setState({open:!1,active_note:null})},a.state={open:!1,active_uuid:"",title:"",description:"",owner:"brendon",origin:"",tags:[],notes:[]},a.handleNoteEdit=a.handleNoteEdit.bind(Object(d.a)(a)),a.handleOpen=a.handleOpen.bind(Object(d.a)(a)),a.handleSave=a.handleSave.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadNotes()}},{key:"loadNotes",value:function(){var e=this;fetch(R+"notes/brendon").then((function(t){t.json().then((function(t){for(var n=[],a=0,i=Object.entries(t.notes);a<i.length;a++){var o=Object(l.a)(i[a],2),r=(o[0],o[1]);n.push(r)}n.sort((function(e,t){return e.last_update_time<t.last_update_time?1:-1})),e.setState({notes:n})}))})).catch(console.log)}},{key:"handleNoteEdit",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleSave",value:function(){var e=this;if(this.state.active_uuid){var t={note_id:this.state.active_uuid,title:this.state.title,description:this.state.description,origin:this.state.origin,tags:this.state.tags};fetch(R+"note/"+this.state.active_uuid,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.loadNotes()})).catch(console.error)}else{var n={title:this.state.title,description:this.state.description,owner:this.state.owner,origin:this.state.origin,tags:this.state.tags};fetch(R+"notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){e.loadNotes(),e.handleClose()})).catch(console.error)}}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(a.jsxs)(_.a,{square:!0,className:t.paper,children:[this.state.open&&Object(a.jsx)(Z,{handleClose:this.handleClose,handleChange:this.handleNoteEdit,handleSave:this.handleSave,open:this.state.open,title:this.state.title,description:this.state.description,origin:this.state.origin}),Object(a.jsx)(W.a,{className:t.list,children:this.state.notes.map((function(t,n){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(te,{note_data:t,onClick:function(){e.handleOpen(t)}},"note-entry-".concat(n))})}))}),Object(a.jsx)(y.a,{color:"secondary","aria-label":"add",className:t.addButton,children:Object(a.jsx)(T.a,{color:"inherit",onClick:this.handleCreate,children:Object(a.jsx)(I.a,{})})})]})}}]),n}(o.a.Component),X=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return Object(a.jsxs)(_.a,{square:!0,className:e.paper,children:[Object(a.jsx)(N.a,{className:e.text,variant:"h5",gutterBottom:!0,children:"Lists"}),Object(a.jsx)(W.a,{className:e.list,children:$.map(ne)})]})}}]),n}(o.a.Component),Y=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={currentTab:"notes"},e.changeTab=function(t,n){e.setState({currentTab:n})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return Object(a.jsx)(v.a,{position:"fixed",color:"primary",className:e.appBar,children:Object(a.jsx)(S.a,{children:Object(a.jsxs)(w.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(a.jsx)(w.a,{item:!0,children:Object(a.jsxs)(k.a,{value:this.state.currentTab,onChange:this.changeTab,variant:"fullWidth","aria-label":"tabs",children:[Object(a.jsx)(C.a,{classes:{root:e.fullHeight},icon:Object(a.jsx)(A.a,{}),value:"notes"}),Object(a.jsx)(C.a,{classes:{root:e.fullHeight},icon:Object(a.jsx)(E.a,{}),value:"lists"})]})}),Object(a.jsx)(w.a,{item:!0,children:Object(a.jsx)(T.a,{color:"inherit",children:Object(a.jsx)(U.a,{})})})]})})})}}]),n}(o.a.Component),Z=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.handleChange,i=e.handleClose,o=e.handleSave,r=e.title,s=e.origin,c=e.description;return Object(a.jsxs)(H.a,{open:t,onClose:i,scroll:"paper","aria-labelledby":"Note Dialog","aria-describedby":"Existing Note",children:[Object(a.jsx)(z.a,{children:Object(a.jsx)(G.a,{margin:"dense",name:"title",label:"Title",type:"text",fullWidth:!0,value:r,onChange:n})}),Object(a.jsxs)(M.a,{dividers:!0,children:[Object(a.jsx)(G.a,{margin:"dense",name:"description",type:"text",multiline:!0,rows:8,value:c,onChange:n,fullWidth:!0}),Object(a.jsx)(G.a,{margin:"dense",name:"origin",label:"Origin",type:"text",fullWidth:!0,value:s,onChange:n}),Object(a.jsx)(ee,{})]}),Object(a.jsxs)(q.a,{children:[Object(a.jsx)(m.a,{onClick:o,color:"primary",children:"Save"}),Object(a.jsx)(m.a,{onClick:i,color:"primary",children:"Close"})]})]})}}]),n}(o.a.Component),ee=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(G.a,{margin:"dense",name:"tags",label:"Tags",type:"text",fullWidth:!0})}}]),n}(o.a.Component),te=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.note_data,n=e.onClick,i=new Date(1e3*Number(t.last_update_time)).toLocaleString();return Object(a.jsx)(F.a,{divider:!0,button:!0,onClick:n,children:Object(a.jsx)(L.a,{primary:t.title,secondary:i})})}}]),n}(o.a.Component),ne=function(e){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(F.a,{button:!0,children:Object(a.jsx)(L.a,{primary:e.title,secondary:e.description})})},e.id)},ae=Object(g.a)(K)(Y),ie=Object(g.a)(K)(V),oe=(Object(g.a)(K)(X),Object(g.a)(K)(Q)),re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(oe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/notes-web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/notes-web","/service-worker.js");re?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):se(t,e)}))}}(),ce()}},[[90,1,2]]]);
//# sourceMappingURL=main.92a02e32.chunk.js.map