(this["webpackJsonpnotes-web"]=this["webpackJsonpnotes-web"]||[]).push([[0],{91:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var a=n(7),i=n(0),o=n.n(i),r=n(12),s=n.n(r),c=(n(91),n(62)),l=n(50),u=n(75),h=n(34),d=n(29),p=n(30),b=n(32),j=n(31),f=n(38),g=n(74),O=n(145),v=n(4),m=n(150),x=n(159),y=n(155),C=n(142),k=n(149),w=n(160),S=n(151),N=n(42),T=n(147),E=n(98),_=n(148),W=n(73),B=n.n(W),L=n(156),A=n(157),F=n(72),P=n.n(F),I=n(71),J=n.n(I),U=n(162),D=n(154),H=n(153),M=n(152),q=n(158),z="https://typed-thoughts.herokuapp.com/",G=[{title:"Article"},{title:"Book"},{title:"Movie"},{title:"Career"},{title:"Entertainment"},{title:"Productivity"},{title:"ArtificialIntelligence"},{title:"EffectiveAltruism"},{title:"SocialJustice"}],R=function(t,e){return t.title===e.title},$=function(t){return t.title},K=function(t){return"string"==typeof t?{title:t}:(console.error("Unknown tag variant:",t),t)},Q=[],V=function(t){return{fullHeight:Object(f.a)({},t.mixins.toolbar),text:{padding:t.spacing(2,2,0)},addButton:{position:"absolute",zIndex:1,bottom:"10%",right:"5%",margin:"0 auto"},paper:{paddingBottom:50},list:{marginBottom:t.spacing(2)},subheader:{backgroundColor:t.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1}}},X=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=Object(g.a)({palette:{primary:{light:"#757ce8",main:"#000000",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"},background:{paper:"#efefef",default:"#fff"}}});return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(C.a,{}),Object(a.jsxs)(O.a,{theme:t,children:[Object(a.jsx)(rt,{}),Object(a.jsx)(ot,{})]})]})}}]),n}(o.a.Component),Y=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).handleOpen=function(t){a.setState({open:!0,active_uuid:t.uuid,title:t.title,description:t.description,origin:t.origin||"",tags:t.tags})},a.handleCreate=function(){a.setState({open:!0,active_uuid:null,title:"",description:"",origin:"",tags:[]})},a.handleClose=function(){a.setState({open:!1,active_note:null})},a.handleSearchChange=function(t,e){a.setState({search:e})},a.state={open:!1,search:[],active_uuid:"",title:"",description:"",owner:"brendon",origin:"",tags:[],notes:[]},a.handleNoteTagEdit=a.handleNoteTagEdit.bind(Object(h.a)(a)),a.handleNoteEdit=a.handleNoteEdit.bind(Object(h.a)(a)),a.handleOpen=a.handleOpen.bind(Object(h.a)(a)),a.handleSave=a.handleSave.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.loadNotes()}},{key:"loadNotes",value:function(){var t=this;fetch(z+"notes/brendon").then((function(e){e.json().then((function(e){for(var n=[],a=0,i=Object.entries(e.notes);a<i.length;a++){var o=Object(u.a)(i[a],2),r=(o[0],o[1]);r.tags=r.tags.map(K),n.push(r)}n.sort((function(t,e){return t.last_update_time<e.last_update_time?1:-1})),t.setState({notes:n})}))})).catch(console.log)}},{key:"handleNoteEdit",value:function(t){this.setState(Object(l.a)({},t.target.name,t.target.value))}},{key:"handleNoteTagEdit",value:function(t,e){this.setState({tags:e})}},{key:"handleSave",value:function(){var t=this;if(this.state.active_uuid){var e={note_id:this.state.active_uuid,title:this.state.title,description:this.state.description,origin:this.state.origin,tags:this.state.tags.map($)};fetch(z+"note/"+this.state.active_uuid,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){t.loadNotes()})).catch(console.error)}else{var n={title:this.state.title,description:this.state.description,owner:this.state.owner,origin:this.state.origin,tags:this.state.tags.map($)};fetch(z+"notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){t.loadNotes(),t.handleClose()})).catch(console.error)}}},{key:"render",value:function(){var t=this,e=this.props.classes;return Object(a.jsxs)(E.a,{square:!0,className:e.paper,children:[this.state.open&&Object(a.jsx)(et,{handleClose:this.handleClose,handleChange:this.handleNoteEdit,handleNoteTagEdit:this.handleNoteTagEdit,handleSave:this.handleSave,open:this.state.open,title:this.state.title,description:this.state.description,origin:this.state.origin,tags:this.state.tags}),Object(a.jsx)(x.a,{multiple:!0,options:G,getOptionLabel:function(t){return t.title},value:this.state.search,onChange:this.handleSearchChange,renderInput:function(t){return Object(a.jsx)(q.a,Object(f.a)(Object(f.a)({},t),{},{fullWidth:!0,variant:"filled",placeholder:"Search..."}))}}),Object(a.jsx)(_.a,{className:e.list,children:this.state.notes.filter((function(e){if(t.state.search.length>0){var n,a=Object(c.a)(t.state.search);try{for(a.s();!(n=a.n()).done;){var i,o=n.value,r=!1,s=Object(c.a)(e.tags);try{for(s.s();!(i=s.n()).done;){var l=i.value;R(o,l)&&(r=!0)}}catch(u){s.e(u)}finally{s.f()}if(!r)return!1}}catch(u){a.e(u)}finally{a.f()}}return!0})).map((function(e,n){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(at,{note_data:e,onClick:function(){t.handleOpen(e)}},"note-entry-".concat(n))})}))}),Object(a.jsx)(k.a,{color:"secondary","aria-label":"add",className:e.addButton,children:Object(a.jsx)(T.a,{color:"inherit",onClick:this.handleCreate,children:Object(a.jsx)(J.a,{})})})]})}}]),n}(o.a.Component),Z=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.classes;return Object(a.jsxs)(E.a,{square:!0,className:t.paper,children:[Object(a.jsx)(N.a,{className:t.text,variant:"h5",gutterBottom:!0,children:"Lists"}),Object(a.jsx)(_.a,{className:t.list,children:Q.map(it)})]})}}]),n}(o.a.Component),tt=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={currentTab:"notes"},t.changeTab=function(e,n){t.setState({currentTab:n})},t}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.classes;return Object(a.jsx)(m.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(a.jsxs)(w.a,{value:this.state.currentTab,onChange:this.changeTab,variant:"fullWidth","aria-label":"tabs",children:[Object(a.jsx)(S.a,{classes:{root:t.fullHeight},icon:Object(a.jsx)(P.a,{}),value:"notes"}),Object(a.jsx)(S.a,{classes:{root:t.fullHeight},icon:Object(a.jsx)(B.a,{}),value:"lists"})]})})}}]),n}(o.a.Component),et=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.open,n=t.handleChange,i=t.handleNoteTagEdit,o=t.handleClose,r=t.handleSave,s=t.title,c=(t.origin,t.tags),l=t.description;return Object(a.jsxs)(U.a,{open:e,onClose:o,scroll:"paper","aria-labelledby":"Note Dialog","aria-describedby":"Existing Note",children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(q.a,{margin:"dense",name:"title",label:"Title",type:"text",fullWidth:!0,value:s,onChange:n})}),Object(a.jsxs)(H.a,{dividers:!0,children:[Object(a.jsx)(q.a,{margin:"dense",name:"description",type:"text",multiline:!0,rows:8,value:l,onChange:n,fullWidth:!0}),Object(a.jsx)(nt,{onChange:i,name:"tags",tags:c})]}),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(y.a,{onClick:r,color:"primary",children:"Save"}),Object(a.jsx)(y.a,{onClick:o,color:"primary",children:"Close"})]})]})}}]),n}(o.a.Component),nt=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.onChange,i=t.tags;return Object(a.jsx)(x.a,{multiple:!0,name:e,onChange:n,value:i,options:G,getOptionLabel:function(t){return t.title},getOptionSelected:function(t,e){return R(t,e)},renderInput:function(t){return Object(a.jsx)(q.a,Object(f.a)(Object(f.a)({},t),{},{label:"Tags",fullWidth:!0}))}})}}]),n}(o.a.Component),at=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.note_data,n=t.onClick,i=new Date(1e3*Number(e.last_update_time)).toLocaleString();return Object(a.jsx)(L.a,{divider:!0,button:!0,onClick:n,children:Object(a.jsx)(A.a,{primary:e.title,secondary:i})})}}]),n}(o.a.Component),it=function(t){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(L.a,{button:!0,children:Object(a.jsx)(A.a,{primary:t.title,secondary:t.description})})},t.id)},ot=Object(v.a)(V)(tt),rt=Object(v.a)(V)(Y),st=(Object(v.a)(V)(Z),Object(v.a)(V)(X)),ct=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function lt(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,164)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),o(t),r(t)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(st,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/notes-web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/notes-web","/service-worker.js");ct?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):lt(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):lt(e,t)}))}}(),ut()}},[[97,1,2]]]);
//# sourceMappingURL=main.0eaa71b4.chunk.js.map